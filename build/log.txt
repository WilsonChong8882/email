Last login: Mon Dec  5 11:28:12 on ttys004
[tw-mbp-cdellosa ~]$ cd ibis2_models/
[tw-mbp-cdellosa ibis2_models]$ cd my_follower
[tw-mbp-cdellosa my_follower]$ idt model-test --sender=12 --recipient=788063885026656256 -m 788063885026656256:my_follower
 INFO] running against prod environment
 INFO] test model=788063885026656256:my_follower sender=12 recipient=788063885026656256  for current user
Notification successfully sent! Response: {
  "errors": [],
  "success": true,
  "requestLogJson": null,
  "impressionId": "c687cd1b8af24d2b94baa3d0826e552d",
  "sendCount": 2,
  "requestLogDump": [
    "(Evaluation, Pass, None, None)",
    "(DataBind, Pass, None, None)",
    "(Validation, Pass, None, None)",
    "(Hydration, Pass, None, None)",
    "(FilterBinding, Start, None, None)",
    "(FilterBinding, Pass, None, None)",
    "(RequestFiltering, Start, None, None)",
    "(RequestFiltering, Pass, None, None)",
    "(Targeting, Start, None, None)",
    "(Targeting, Pass, None, None)",
    "(TargetFiltering, Fail, Some(TargetDevice(788063886477897729, sms, light)), Some(SMS device setting not enabled for All users))",
    "(TargetFiltering, Pass, Some(TargetDevice(788063888474386432, push, apple, light)), Some(AndTargetPredicate))",
    "(TargetFiltering, Pass, Some(TargetDevice(789505769758531584, push, apple, light)), Some(AndTargetPredicate))",
    "(TargetFiltering, Fail, Some(TargetDevice(cdellosa@twitter.com, email, light)), Some(Rate limited on limit_per_recipient_per_sender))",
    "(Rendering, Start, Some(TargetDevice(788063888474386432, push, apple, light)), None)",
    "(Rendering, Start, Some(TargetDevice(789505769758531584, push, apple, light)), None)",
    "(Rendering, Pass, Some(TargetDevice(788063888474386432, push, apple, light)), None)",
    "(Rendering, Pass, Some(TargetDevice(789505769758531584, push, apple, light)), None)"
  ]
}
------------------
Payloads generated
------------------
 INFO] running against prod environment
[
  {
    "deviceId": "788063886477897729",
    "iid": "c687cd1b8af24d2b94baa3d0826e552d",
    "message": {
      "error": "SMS device setting not enabled for All users",
      "targetTransport": "error"
    },
    "ts": "Some(2016-12-05 19:37:42 +0000)",
    "version": "ibis2.prod"
  },
  {
    "deviceId": "788063888474386432",
    "iid": "c687cd1b8af24d2b94baa3d0826e552d",
    "message": {
      "mobileMessage": {
        "address": null,
        "appVersion": 26,
        "badgeCount": 1,
        "carrier": null,
        "clientApplicationId": 129032,
        "complianceSource": null,
        "complianceType": null,
        "darkWrite": false,
        "deviceId": 788063888474386432,
        "direct": null,
        "display": 7,
        "enqueuedAt": 1480966662000,
        "environment": 3,
        "expireTimestamp": null,
        "forceDelivery": null,
        "frictionlessFollower": null,
        "ignoreDuplicates": null,
        "language": "en",
        "legacyGeneric": false,
        "numRetries": null,
        "payload": "{\n  \"aps\":{\n    \"alert\":\"@jack is now following you!\",\n    \"sound\":\"d.a\",\n    \"badge\":1,\n    \n    \"category\":\"followed.1\"\n  },\"R\":\"c_dellosa\",\"rid\":788063885026656256,\"D\":\"jack\",\"sid\":12,\n  \"U\":\"user?sn=jack\",\n  \"S\":\"followed\",\n  \"I\":\"NF\",\n  \"T\":\"23\",\n  \"tid\":\"\",\n  \"cid\":\"\",\n  \"eid\":\"0\",\n  \"iid\":\"c687cd1b8af24d2b94baa3d0826e552d\"\n}",
        "preformatted": true,
        "priority": 0,
        "pushService": null,
        "recipientName": "c_dellosa",
        "scribeTarget": "followed",
        "senderFullName": null,
        "senderId": 12,
        "senderName": "jack",
        "senderProfileUrl": null,
        "smsAuditScribe": null,
        "sourceAddress": null,
        "statusId": null,
        "text": "@jack is now following you!",
        "textCrc": 2125551031,
        "textVersion": null,
        "token": "jUH+tQ/Q4zqg3gGDoioy9Ql+DO2MsuPM5d73DdykSgg=",
        "transactionId": null,
        "type": "followed",
        "uri": "user?sn=jack",
        "userId": 788063885026656256
      },
      "targetTransport": "push"
    },
    "ts": "Some(2016-12-05 19:37:42 +0000)",
    "version": "ibis2.prod"
  },
  {
    "deviceId": "789505769758531584",
    "iid": "c687cd1b8af24d2b94baa3d0826e552d",
    "message": {
      "mobileMessage": {
        "address": null,
        "appVersion": 26,
        "badgeCount": 1,
        "carrier": null,
        "clientApplicationId": 1082764,
        "complianceSource": null,
        "complianceType": null,
        "darkWrite": false,
        "deviceId": 789505769758531584,
        "direct": null,
        "display": 7,
        "enqueuedAt": 1480966662000,
        "environment": 2,
        "expireTimestamp": null,
        "forceDelivery": null,
        "frictionlessFollower": null,
        "ignoreDuplicates": null,
        "language": "en",
        "legacyGeneric": false,
        "numRetries": null,
        "payload": "{\n  \"aps\":{\n    \"alert\":\"@jack is now following you!\",\n    \"sound\":\"d.a\",\n    \"badge\":1,\n    \n    \"category\":\"followed.1\"\n  },\"R\":\"c_dellosa\",\"rid\":788063885026656256,\"D\":\"jack\",\"sid\":12,\n  \"U\":\"user?sn=jack\",\n  \"S\":\"followed\",\n  \"I\":\"NF\",\n  \"T\":\"23\",\n  \"tid\":\"\",\n  \"cid\":\"\",\n  \"eid\":\"0\",\n  \"iid\":\"c687cd1b8af24d2b94baa3d0826e552d\"\n}",
        "preformatted": true,
        "priority": 0,
        "pushService": null,
        "recipientName": "c_dellosa",
        "scribeTarget": "followed",
        "senderFullName": null,
        "senderId": 12,
        "senderName": "jack",
        "senderProfileUrl": null,
        "smsAuditScribe": null,
        "sourceAddress": null,
        "statusId": null,
        "text": "@jack is now following you!",
        "textCrc": 2125551031,
        "textVersion": null,
        "token": "WIe54OTKWoxmy98oUxYdaFJESUv3jU4rFYX0pt3Fpok=",
        "transactionId": null,
        "type": "followed",
        "uri": "user?sn=jack",
        "userId": 788063885026656256
      },
      "targetTransport": "push"
    },
    "ts": "Some(2016-12-05 19:37:42 +0000)",
    "version": "ibis2.prod"
  },
  {
    "deviceId": "cdellosa@twitter.com",
    "iid": "c687cd1b8af24d2b94baa3d0826e552d",
    "message": {
      "error": "Rate limited on limit_per_recipient_per_sender",
      "targetTransport": "error"
    },
    "ts": "Some(2016-12-05 19:37:42 +0000)",
    "version": "ibis2.prod"
  }
]
[tw-mbp-cdellosa my_follower]$